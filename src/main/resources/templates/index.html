<!doctype html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      lang="en">
<head>
    <meta charset="utf-8"/>
    <link rel="icon" th:href="@{/favicon.ico}"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
<!--    <meta name="theme-color" content="#000000"/>-->
    <meta
            name="description"
            content="Redis vector similarity search demonstration"
    />
    <link rel="apple-touch-icon" sizes="180x180" th:href="@{/apple-touch-icon.png}">
    <link rel="icon" type="image/png" sizes="32x32" th:href="@{/favicon-32x32.png}">
    <link rel="icon" type="image/png" sizes="16x16" th:href="@{/favicon-16x16.png}">

    <link rel="stylesheet" th:href="@{/webjars/bootstrap/css/bootstrap.min.css}">

    <link rel="manifest" th:href="@{/site.webmanifest}">
    <title>Redis VSS Celebrities Demo</title>
</head>
<body>
<noscript>You need to enable JavaScript to run this app.</noscript>

<header data-bs-theme="dark">
    <div class="navbar navbar-dark bg-dark shadow-sm">
        <div class="container">
            <a href="/" class="navbar-brand d-flex align-items-center">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true" class="me-2" viewBox="0 0 24 24"><path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"/><circle cx="12" cy="13" r="4"/></svg>
                <strong>Redis VSS Celebs</strong>
            </a>
        </div>
    </div>
</header>

<main>
    <section class="py-5 text-center container">
        <div class="row py-lg-5">
            <div class="col-lg-6 col-md-8 mx-auto">
                <h1 class="fw-light">Celebrity Match Demo</h1>
                <p class="lead text-body-secondary">A Vector Similarity Search Example powered by Redis</p>
            </div>
        </div>
        <div class="row">
            <form id='form' hx-encoding='multipart/form-data' hx-post='/matches'>
                <input type='file' name='file'>
                <button>
                    Upload
                </button>
                <progress id='progress' value='0' max='100'></progress>
            </form>
        </div>
    </section>
    <div th:replace="~{fragments :: matches}"></div>

</main>

<footer class="text-body-secondary py-5">
    <div class="container">
        <p class="float-end mb-1">
            <a href="#">Back to top</a>
        </p>
        <p class="mb-0">New to Redis Stack? <a href="https://redis.io/docs/stack/">Visit the homepage</a> and read about <a href="https://redis.com/blog/rediscover-redis-for-vector-similarity-search/">Vector Similarity Search</a>.</p>
    </div>
</footer>



<!-- Scripts here. Don't remove â†“ -->
<script type="text/javascript" th:src="@{/webjars/bootstrap/js/bootstrap.bundle.min.js}"></script>
<script type="text/javascript" th:src="@{/webjars/htmx.org/dist/htmx.min.js}"></script>
<script type="text/javascript">
console.log("Here we go...");
htmx.on('#form', 'htmx:xhr:progress', function(evt) {
    htmx.find('#progress').setAttribute('value', evt.detail.loaded/evt.detail.total * 100)
});
</script>
</body>
</html>
